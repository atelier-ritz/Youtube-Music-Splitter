<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Audio Controls Test</title>
    <style>
        /* Import the responsive utilities and TrackView styles */
        @import url('./styles/responsive.css');
        @import url('./components/TrackView.css');
        
        body {
            font-family: system-ui, sans-serif;
            margin: 0;
            padding: 0;
            background: #2a2d3a;
            color: white;
        }
        
        .test-container {
            padding: var(--spacing-md);
        }
        
        .test-section {
            background: #1e2028;
            margin-bottom: var(--spacing-lg);
            padding: var(--spacing-md);
            border-radius: var(--border-radius);
            border: 1px solid #3a3d4a;
        }
        
        .test-title {
            color: #ff6b35;
            margin-bottom: var(--spacing-md);
            font-size: var(--font-size-lg);
        }
        
        .breakpoint-indicator {
            position: fixed;
            top: 10px;
            right: 10px;
            background: #ff6b35;
            color: white;
            padding: var(--spacing-xs) var(--spacing-sm);
            border-radius: var(--border-radius);
            font-size: var(--font-size-sm);
            z-index: 1000;
        }
        
        .breakpoint-indicator::before {
            content: "XS (< 480px)";
        }
        
        @media (min-width: 480px) {
            .breakpoint-indicator::before {
                content: "SM (≥ 480px)";
            }
        }
        
        @media (min-width: 768px) {
            .breakpoint-indicator::before {
                content: "MD (≥ 768px)";
            }
        }
        
        @media (min-width: 1024px) {
            .breakpoint-indicator::before {
                content: "LG (≥ 1024px)";
            }
        }
        
        @media (min-width: 1200px) {
            .breakpoint-indicator::before {
                content: "XL (≥ 1200px)";
            }
        }
        
        /* Mock track styles for testing */
        .mock-track {
            background: #252833;
            border: 1px solid #3a3d4a;
            border-radius: var(--border-radius);
            margin-bottom: var(--spacing-sm);
            position: relative;
        }
        
        .mock-track-header {
            display: flex;
            align-items: center;
            padding: var(--spacing-sm);
            background: #2a2d3a;
            border-radius: var(--border-radius) var(--border-radius) 0 0;
        }
        
        .mock-track-number {
            width: 30px;
            height: 30px;
            background: #ff6b35;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            font-weight: bold;
            margin-right: var(--spacing-sm);
        }
        
        .mock-track-name {
            flex: 1;
            font-weight: 600;
        }
        
        .mock-track-controls {
            display: flex;
            gap: var(--spacing-xs);
        }
        
        .mock-track-btn {
            width: 24px;
            height: 24px;
            border: none;
            border-radius: var(--border-radius-sm);
            background: #4a4d5a;
            color: white;
            cursor: pointer;
            font-size: 10px;
            font-weight: bold;
            min-width: var(--touch-target-min);
            min-height: var(--touch-target-min);
            touch-action: manipulation;
        }
        
        .mock-track-btn:hover {
            background: #5a5d6a;
        }
        
        .mock-track-btn--active {
            background: #ff6b35;
        }
        
        .mock-expand-btn {
            display: none;
            background: transparent;
            border: none;
            color: #ccc;
            cursor: pointer;
            font-size: 12px;
            min-width: var(--touch-target-min);
            min-height: var(--touch-target-min);
            margin-left: auto;
        }
        
        .mock-mobile-controls {
            display: none;
            background: #1e2028;
            border-top: 1px solid #3a3d4a;
            padding: var(--spacing-sm);
        }
        
        .mock-mobile-controls.expanded {
            display: block;
        }
        
        .mock-control-section {
            margin-bottom: var(--spacing-sm);
        }
        
        .mock-control-label {
            display: block;
            font-size: 11px;
            color: #ccc;
            margin-bottom: 4px;
        }
        
        .mock-slider {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #3a3d4a;
            outline: none;
            cursor: pointer;
            -webkit-appearance: none;
            appearance: none;
        }
        
        .mock-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: #ff6b35;
            cursor: pointer;
            border: 2px solid #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        /* Responsive behavior */
        @media (max-width: 480px) {
            .test-title::after {
                content: " - Mobile Tabbed View";
                color: #4CAF50;
            }
        }
        
        @media (min-width: 481px) and (max-width: 767px) {
            .mock-expand-btn {
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .test-title::after {
                content: " - Tablet Collapsible View";
                color: #2196F3;
            }
        }
        
        @media (min-width: 768px) {
            .test-title::after {
                content: " - Desktop Full View";
                color: #FF9800;
            }
        }
    </style>
</head>
<body>
    <div class="breakpoint-indicator"></div>
    
    <div class="test-container">
        <h1>Responsive Audio Controls Test</h1>
        <p>Resize your browser window to test different responsive breakpoints.</p>
        
        <div class="test-section">
            <h2 class="test-title">Track Controls</h2>
            
            <!-- Mock Track 1 -->
            <div class="mock-track">
                <div class="mock-track-header">
                    <div class="mock-track-number">1</div>
                    <div class="mock-track-name">Vocals</div>
                    <div class="mock-track-controls">
                        <button class="mock-track-btn" title="Mute">M</button>
                        <button class="mock-track-btn mock-track-btn--active" title="Solo">S</button>
                        <button class="mock-expand-btn" onclick="toggleMobileControls(this)" title="More controls">▼</button>
                    </div>
                </div>
                <div class="mock-mobile-controls">
                    <div class="mock-control-section">
                        <label class="mock-control-label">Volume</label>
                        <input type="range" class="mock-slider" min="0" max="1" step="0.01" value="0.8">
                    </div>
                    <div class="mock-control-section">
                        <label class="mock-control-label">Pan</label>
                        <input type="range" class="mock-slider" min="-1" max="1" step="0.01" value="0">
                    </div>
                </div>
            </div>
            
            <!-- Mock Track 2 -->
            <div class="mock-track">
                <div class="mock-track-header">
                    <div class="mock-track-number">2</div>
                    <div class="mock-track-name">Drums</div>
                    <div class="mock-track-controls">
                        <button class="mock-track-btn mock-track-btn--active" title="Mute">M</button>
                        <button class="mock-track-btn" title="Solo">S</button>
                        <button class="mock-expand-btn" onclick="toggleMobileControls(this)" title="More controls">▼</button>
                    </div>
                </div>
                <div class="mock-mobile-controls">
                    <div class="mock-control-section">
                        <label class="mock-control-label">Volume</label>
                        <input type="range" class="mock-slider" min="0" max="1" step="0.01" value="0.6">
                    </div>
                    <div class="mock-control-section">
                        <label class="mock-control-label">Pan</label>
                        <input type="range" class="mock-slider" min="-1" max="1" step="0.01" value="-0.3">
                    </div>
                </div>
            </div>
            
            <!-- Mock Track 3 -->
            <div class="mock-track">
                <div class="mock-track-header">
                    <div class="mock-track-number">3</div>
                    <div class="mock-track-name">Bass</div>
                    <div class="mock-track-controls">
                        <button class="mock-track-btn" title="Mute">M</button>
                        <button class="mock-track-btn" title="Solo">S</button>
                        <button class="mock-expand-btn" onclick="toggleMobileControls(this)" title="More controls">▼</button>
                    </div>
                </div>
                <div class="mock-mobile-controls">
                    <div class="mock-control-section">
                        <label class="mock-control-label">Volume</label>
                        <input type="range" class="mock-slider" min="0" max="1" step="0.01" value="0.9">
                    </div>
                    <div class="mock-control-section">
                        <label class="mock-control-label">Pan</label>
                        <input type="range" class="mock-slider" min="-1" max="1" step="0.01" value="0.2">
                    </div>
                </div>
            </div>
        </div>
        
        <div class="test-section">
            <h2 class="test-title">Instructions</h2>
            <ul>
                <li><strong>Mobile (≤ 480px):</strong> Tracks should be displayed in a tabbed interface</li>
                <li><strong>Tablet (481px - 767px):</strong> Tracks should have collapsible controls with expand buttons</li>
                <li><strong>Desktop (≥ 768px):</strong> All controls should be visible inline</li>
                <li><strong>Touch devices:</strong> All interactive elements should be touch-friendly (44px minimum)</li>
                <li><strong>Keyboard navigation:</strong> All controls should be accessible via keyboard</li>
            </ul>
        </div>
    </div>
    
    <script>
        function toggleMobileControls(button) {
            const track = button.closest('.mock-track');
            const controls = track.querySelector('.mock-mobile-controls');
            const isExpanded = controls.classList.contains('expanded');
            
            if (isExpanded) {
                controls.classList.remove('expanded');
                button.style.transform = 'rotate(0deg)';
                button.setAttribute('aria-expanded', 'false');
            } else {
                controls.classList.add('expanded');
                button.style.transform = 'rotate(180deg)';
                button.setAttribute('aria-expanded', 'true');
            }
        }
        
        // Add keyboard support
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Enter' || event.key === ' ') {
                const target = event.target;
                if (target.classList.contains('mock-expand-btn')) {
                    event.preventDefault();
                    toggleMobileControls(target);
                }
            }
        });
        
        // Log viewport changes
        function logViewportSize() {
            console.log(`Viewport: ${window.innerWidth}x${window.innerHeight}`);
        }
        
        window.addEventListener('resize', logViewportSize);
        logViewportSize();
    </script>
</body>
</html>